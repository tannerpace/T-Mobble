<!DOCTYPE html>
<html>
<head>
    <title>Flamethrower Demo</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #f0f0f0;
            font-family: Arial, sans-serif;
        }
        canvas {
            border: 2px solid #333;
            background: #87CEEB;
            display: block;
            margin: 20px auto;
        }
        .info {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
        }
        h1 { color: #ff6600; }
        .feature { 
            margin: 10px 0;
            padding: 10px;
            background: #fff3e0;
            border-left: 4px solid #ff6600;
        }
    </style>
</head>
<body>
    <div class="info">
        <h1>ðŸ”¥ Flame Thrower Weapon Demo</h1>
        <div class="feature">
            <strong>Low Immediate Damage:</strong> 0.2 damage per hit
        </div>
        <div class="feature">
            <strong>Burning Effect:</strong> Enemies continue to burn, taking 0.1 damage every 15 frames
        </div>
        <div class="feature">
            <strong>Duration:</strong> Burn lasts 180 frames (3 seconds at 60fps)
        </div>
        <div class="feature">
            <strong>Visual Effects:</strong> Orange flame cone with particles, burning enemies glow orange
        </div>
    </div>
    
    <canvas id="demo" width="800" height="300"></canvas>
    
    <script type="module">
        import { FlameThrowerWeapon } from './src/weapons/FlameThrowerWeapon.js';
        import { BaseEnemy } from './src/entities/BaseEnemy.js';
        
        const canvas = document.getElementById('demo');
        const ctx = canvas.getContext('2d');
        
        // Mock dino
        const dino = {
            x: 50,
            y: canvas.height * 0.8 - 40,
            width: 40,
            height: 40
        };
        
        // Create flamethrower
        const flamethrower = new FlameThrowerWeapon({});
        flamethrower.setLevel(3);
        
        // Create some enemies
        const enemies = [];
        for (let i = 0; i < 3; i++) {
            const enemy = new BaseEnemy(canvas, 0, {
                health: 15,
                xpValue: 10
            });
            enemy.x = 200 + i * 150;
            enemy.y = canvas.height * 0.8 - 30;
            enemy.speed = 0; // Stationary for demo
            enemies.push(enemy);
        }
        
        let frameCount = 0;
        
        function gameLoop() {
            // Clear canvas
            ctx.fillStyle = '#87CEEB';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Draw ground
            ctx.fillStyle = '#8B7355';
            ctx.fillRect(0, canvas.height * 0.8, canvas.width, canvas.height * 0.2);
            
            // Update and draw dino
            ctx.fillStyle = '#00FF00';
            ctx.fillRect(dino.x, dino.y, dino.width, dino.height);
            ctx.fillStyle = '#000';
            ctx.font = '30px Arial';
            ctx.fillText('ðŸ¦–', dino.x, dino.y + 35);
            
            // Update flamethrower
            flamethrower.update(dino, [], {});
            
            // Check collisions
            flamethrower.checkCollisions(enemies, (enemy) => {
                console.log('Enemy died from flame!');
            });
            
            // Draw flamethrower
            flamethrower.draw(ctx, frameCount);
            
            // Update and draw enemies
            for (let i = enemies.length - 1; i >= 0; i--) {
                const enemy = enemies[i];
                enemy.update();
                
                if (enemy.isDead()) {
                    enemies.splice(i, 1);
                    continue;
                }
                
                // Draw enemy
                enemy.drawEmoji(ctx, 'ðŸ‘¾', 30);
                
                // Draw health bar
                const healthPercent = enemy.health / enemy.maxHealth;
                const barWidth = 40;
                const barHeight = 4;
                const barX = enemy.x + (enemy.width - barWidth) / 2;
                const barY = enemy.y - 15;
                
                ctx.fillStyle = '#FF0000';
                ctx.fillRect(barX, barY, barWidth, barHeight);
                ctx.fillStyle = '#00FF00';
                ctx.fillRect(barX, barY, barWidth * healthPercent, barHeight);
                
                // Show burn status
                if (enemy.isBurning) {
                    ctx.fillStyle = '#FF6600';
                    ctx.font = 'bold 12px Arial';
                    ctx.fillText('BURNING!', enemy.x, enemy.y - 20);
                }
            }
            
            // Draw info
            ctx.fillStyle = '#000';
            ctx.font = '16px Arial';
            ctx.fillText(`Frame: ${frameCount} | Enemies: ${enemies.length}`, 10, 20);
            ctx.fillText('ðŸ”¥ Flame Thrower (Level 3)', 10, 40);
            
            frameCount++;
            requestAnimationFrame(gameLoop);
        }
        
        gameLoop();
    </script>
</body>
</html>
